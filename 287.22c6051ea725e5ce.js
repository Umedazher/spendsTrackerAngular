"use strict";(self.webpackChunkSpendTracker=self.webpackChunkSpendTracker||[]).push([[287],{7287:(P,b,a)=>{a.d(b,{e:()=>g});var m=a(4004),d=a(8966),t=a(4893),c=a(5366),f=a(7261),p=a(2382),v=a(7322),F=a(7531),l=a(9808),_=a(7446),x=a(7423);function C(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",10),t.TgZ(1,"div",11),t._uU(2),t.qZA(),t.TgZ(3,"div",12),t.TgZ(4,"div",13),t.TgZ(5,"b",14),t._uU(6),t.qZA(),t.qZA(),t.TgZ(7,"div"),t.TgZ(8,"small"),t._uU(9),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"div"),t.TgZ(11,"mat-checkbox",15),t.NdJ("ngModelChange",function(o){return t.CHM(e).$implicit.selected=o}),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=s.$implicit,n=t.oxw();t.xp6(1),t.Udp("background-color",n.randomColor(e.fullName.charAt(0))),t.xp6(1),t.Oqu(e.fullName.charAt(0)),t.xp6(3),t.Q6J("title",e.fullName),t.xp6(1),t.Oqu(e.fullName),t.xp6(3),t.Oqu(e.email),t.xp6(2),t.Q6J("ngModel",e.selected)("value",e.friendUserId)}}let Z=(()=>{class i{constructor(e,n,o){this.router=e,this.loginservice=n,this.snackBar=o}ngOnInit(){this.getCustomerdata(),this.fetchFreindsData()}getCustomerdata(){this.userData=this.loginservice.getCustomerData()}fetchFreindsData(){this.fetchFreindsName=this.loginservice.getFreindsData(),this.friendList=this.fetchFreindsName}randomColor(e){return this.loginservice.getrandomColors(e),this.loginservice.getrandomColors(e)}submitExpense(e){const n={userId:this.userData.userId,TotalSplittedAmount:e.value.amount,desc:e.value.description,FriendsBetweenSplitting:this.friendList.filter(o=>o.selected).map(o=>o.friendUserId)};this.loginservice.add_expense(n).subscribe(o=>{o.Response&&"Success"==o.Response?(this.openSnackBar(o.message),this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate(["/Dashboard/MySpace"])})):this.openSnackBar(o.message)}),console.log(n)}openSnackBar(e){this.snackBar.open(e,"Dismiss",{duration:3e3})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(c.F0),t.Y36(g),t.Y36(f.ux))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-add-expense-popup"]],decls:15,vars:1,consts:[["mat-dialog-title","",1,"text-white"],[1,"expense-form",3,"ngSubmit"],["expenseForm","ngForm"],[1,"form-row"],[1,"half-width"],["matInput","","placeholder","Expense Amount","name","amount","ngModel","","required",""],["matInput","","placeholder","Expense Description","name","description","ngModel","","required",""],["class"," border-white friend-list fnd-card bg-Blue",4,"ngFor","ngForOf"],["mat-raised-button","","mat-dialog-close","","type","submit",1,"bg-Black","border-white","text-white"],["mat-button","","mat-dialog-close","",1,"bg-Black","border-white","text-white"],[1,"border-white","friend-list","fnd-card","bg-Blue"],[1,"circle"],[1,"friend-info"],[1,"truncate-text"],[3,"title"],["name","friends",3,"ngModel","value","ngModelChange"]],template:function(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"h2",0),t._uU(1,"Add Expense"),t.qZA(),t.TgZ(2,"mat-dialog-content"),t.TgZ(3,"form",1,2),t.NdJ("ngSubmit",function(){t.CHM(o);const h=t.MAs(4);return n.submitExpense(h)}),t.TgZ(5,"div",3),t.TgZ(6,"mat-form-field",4),t._UZ(7,"input",5),t.qZA(),t.TgZ(8,"mat-form-field",4),t._UZ(9,"input",6),t.qZA(),t.qZA(),t.YNc(10,C,12,8,"div",7),t.TgZ(11,"button",8),t._uU(12,"Submit"),t.qZA(),t.TgZ(13,"button",9),t._uU(14,"Close"),t.qZA(),t.qZA(),t.qZA()}2&e&&(t.xp6(10),t.Q6J("ngForOf",n.friendList))},directives:[d.uh,d.xY,p._Y,p.JL,p.F,v.KE,F.Nt,p.Fj,p.JJ,p.On,p.Q7,l.sg,_.oG,x.lW,d.ZT],styles:[".border-white[_ngcontent-%COMP%]{border:1px solid white}.expense-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.fnd-card[_ngcontent-%COMP%]{display:flex;flex-direction:row;box-shadow:0 4px 8px #61892f;margin-bottom:5px;margin-top:2px;padding:5px;border-radius:25px}.form-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.half-width[_ngcontent-%COMP%]{width:calc(50% - 12px);margin-right:12px}.friend-list[_ngcontent-%COMP%]{display:flex;align-items:center;padding:8px;box-shadow:0 4px 8px #0000001a;margin:5px 0}.friend-info[_ngcontent-%COMP%]{flex-direction:column;width:100%;margin-left:12px}button[_ngcontent-%COMP%]{margin-top:12px}@media only screen and (max-width: 600px){.form-row[_ngcontent-%COMP%]{flex-direction:column}.half-width[_ngcontent-%COMP%]{width:100%;margin-right:0;margin-bottom:12px}.friend-list[_ngcontent-%COMP%]{font-size:12px}}  .rounded-checkbox .mat-checkbox-frame,   .rounded-checkbox .mat-checkbox-background{border-radius:50%}"]}),i})();function w(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"button",11),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit;return t.oxw().sendRequest(o)}),t._uU(1,"Add Friend"),t.qZA()}}function A(i,s){1&i&&(t.TgZ(0,"button",12),t._uU(1,"Requested"),t.qZA())}function T(i,s){1&i&&(t.TgZ(0,"button",12),t._uU(1,"Friends"),t.qZA())}function S(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"button",11),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit;return t.oxw().accept_friend_request(o)}),t._uU(1,"Accept"),t.qZA()}}function q(i,s){if(1&i&&(t.TgZ(0,"div",3),t.TgZ(1,"div",4),t._uU(2),t.qZA(),t.TgZ(3,"div",5),t.TgZ(4,"div",6),t.TgZ(5,"b",7),t._uU(6),t.qZA(),t.qZA(),t.TgZ(7,"div"),t.TgZ(8,"small"),t._uU(9),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"div"),t.YNc(11,w,2,0,"button",8),t.YNc(12,A,2,0,"button",9),t.YNc(13,T,2,0,"button",10),t.YNc(14,S,2,0,"button",8),t.qZA(),t.qZA()),2&i){const e=s.$implicit,n=t.oxw();t.xp6(1),t.Udp("background-color",n.randomColor(e.fullName.charAt(0))),t.xp6(1),t.Oqu(e.fullName.charAt(0)),t.xp6(3),t.Q6J("title",e.fullName),t.xp6(1),t.Oqu(e.fullName),t.xp6(3),t.Oqu(e.email),t.xp6(2),t.Q6J("ngIf","not_friend"===e.friendshipStatus),t.xp6(1),t.Q6J("ngIf","requested_friend"===e.friendshipStatus),t.xp6(1),t.Q6J("ngIf","added_friend"===e.friendshipStatus),t.xp6(1),t.Q6J("ngIf","pending_request"===e.friendshipStatus)}}let k=(()=>{class i{constructor(e,n,o,u){this.router=e,this.cdr=n,this.loginservice=o,this.snackBar=u}ngOnInit(){this.getInitialData()}getInitialData(){this.userData=this.loginservice.getCustomerData(),console.log(this.userData),this.loginservice.get_all_users({userId:this.userData.userId}).subscribe(n=>{this.friendList=n,console.log(n)})}randomColor(e){return this.loginservice.getrandomColors(e),this.loginservice.getrandomColors(e)}sendRequest(e){this.loginservice.send_friend_request({requesterUserId:this.userData.userId,requestedUserId:e.userId}).subscribe(o=>{o.Response&&"Success"==o.Response?(this.openSnackBar(o.message),this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate(["/Dashboard/MySpace"])})):this.openSnackBar(o.message)})}accept_friend_request(e){this.loginservice.accept_friend_request({requesterUserId:e.userId,requestedUserId:this.userData.userId}).subscribe(o=>{})}openSnackBar(e){this.snackBar.open(e,"Dismiss",{duration:3e3})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(c.F0),t.Y36(t.sBO),t.Y36(g),t.Y36(f.ux))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-add-freind-popup"]],decls:8,vars:1,consts:[["mat-dialog-title","",1,"text-white"],["class"," border-white bg-Blue fnd-card",4,"ngFor","ngForOf"],["mat-button","","mat-dialog-close","",1,"bg-Black","border-white","text-white"],[1,"border-white","bg-Blue","fnd-card"],[1,"circle"],[2,"flex-direction","column","width","87%"],[1,"truncate-text"],[3,"title"],["mat-button","","mat-dialog-close","","class","buttonWidthHeight bg-Black text-white popup-button","mat-button","",3,"click",4,"ngIf"],["class"," buttonWidthHeight bg-Black text-white popup-button","mat-button","",4,"ngIf"],["class","buttonWidthHeight bg-Black text-white popup-button","mat-button","",4,"ngIf"],["mat-button","","mat-dialog-close","","mat-button","",1,"buttonWidthHeight","bg-Black","text-white","popup-button",3,"click"],["mat-button","",1,"buttonWidthHeight","bg-Black","text-white","popup-button"]],template:function(e,n){1&e&&(t.TgZ(0,"div"),t.TgZ(1,"h2",0),t._uU(2,"Add Friends"),t.qZA(),t.TgZ(3,"mat-dialog-content"),t.YNc(4,q,15,10,"div",1),t.qZA(),t.TgZ(5,"mat-dialog-actions"),t.TgZ(6,"button",2),t._uU(7,"Close"),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(4),t.Q6J("ngForOf",n.friendList))},directives:[d.uh,d.xY,l.sg,l.O5,x.lW,d.ZT,d.H8],styles:[".border-white[_ngcontent-%COMP%]{border:1px solid white}.fnd-card[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin-bottom:5px;margin-top:2px;padding:5px;border-radius:25px;height:42px}.popup-button[_ngcontent-%COMP%]{border-radius:25px}.buttonWidthHeight[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:inline-block;font-size:12px;padding:2px;text-align:center;box-sizing:border-box}@media (max-width: 1200px){.buttonWidthHeight[_ngcontent-%COMP%]{width:25px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:inline-block;font-size:12px;padding:2px;text-align:center;box-sizing:border-box}}@media (max-width: 992px){.buttonWidthHeight[_ngcontent-%COMP%]{width:20px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:inline-block;font-size:12px;padding:2px;text-align:center;box-sizing:border-box}}@media (max-width: 768px){.buttonWidthHeight[_ngcontent-%COMP%]{width:15px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:inline-block;font-size:12px;padding:2px;text-align:center;box-sizing:border-box}}@media (max-width: 576px){.buttonWidthHeight[_ngcontent-%COMP%]{width:10px}}"]}),i})();var r=a(5113),M=a(520);let g=(()=>{class i{constructor(e,n,o,u){this.http=e,this.router=n,this.dialog=o,this.breakpointObserver=u,this.fastapiService="https://expensetrackerfastapis-production.up.railway.app",this.colorMapping={A:"#FF5733",B:"#33FF57",C:"#3357FF",D:"#FF33A1",E:"#FF8C33",F:"#33FF8C",G:"#8C33FF",H:"#FF3333",I:"#FF33E8",J:"#33FFE8",K:"#FF57B8",L:"#57FF33",M:"#33B8FF",N:"#B833FF",O:"#33FFB8",P:"#FFB833",Q:"#8CFF33",R:"#338CFF",S:"#FF338C",T:"#33FF57",U:"#FF338C",V:"#338CFF",W:"#FF5733",X:"#8C33FF",Y:"#33FF8C",Z:"#FF8C33"}}signup(e){return this.http.post(this.fastapiService+"/signup/",e)}login(e){return this.http.post(this.fastapiService+"/login/",e)}logout(){localStorage.removeItem("access_token"),this.router.navigate(["/Login"])}getfreindsList(e){return this.http.post(this.fastapiService+"/get_friend_expenses/",e)}get_all_users(e){return this.http.post(this.fastapiService+"/get_all_users/",e)}send_friend_request(e){return this.http.post(this.fastapiService+"/send_friend_request/",e)}accept_friend_request(e){return this.http.post(this.fastapiService+"/accept_friend_request/",e)}add_expense(e){return this.http.post(this.fastapiService+"/add_expense/",e)}settle_amount(e){return this.http.post(this.fastapiService+"/settle_amount/",e)}MySpends(e){return this.http.post(this.fastapiService+"/My_Spends/",e)}expense_history(e){return this.http.post(this.fastapiService+"/expense_history/",e)}setCustomerData(e){this.userData=e}getCustomerData(){return this.userData}setFreindsData(e){this.FreindsData=e}getFreindsData(){return this.FreindsData}openaddExpensePopup(){const e=new d.vA;this.breakpointObserver.observe([r.u3.Small,r.u3.XSmall,r.u3.Medium,r.u3.Large,r.u3.XLarge]).pipe((0,m.U)(n=>n.breakpoints[r.u3.XSmall]||n.breakpoints[r.u3.Small]?"80%":"40%")).subscribe(n=>{e.width=n,e.panelClass="custom-dialog-container-green",this.dialog.open(Z,e)})}openaddFreindPopup(){const e=new d.vA;this.breakpointObserver.observe([r.u3.Small,r.u3.XSmall,r.u3.Medium,r.u3.Large,r.u3.XLarge]).pipe((0,m.U)(n=>n.breakpoints[r.u3.XSmall]||n.breakpoints[r.u3.Small]?"80%":"40%")).subscribe(n=>{e.width=n,e.panelClass="custom-dialog-container-green",this.dialog.open(k,e)})}getrandomColors(e){const n=e.toUpperCase();return this.colorMapping[n]||"#000000"}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(M.eN),t.LFG(c.F0),t.LFG(d.uw),t.LFG(r.Yg))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()}}]);